<!-- Wrapper-->
<div id="wrapper">

    <header-component></header-component>

    <navigation-component></navigation-component>

    <!-- Page wraper -->
    <div id="page-wrapper" class="white-bg">
		<div class="row wrapper border-bottom white-bg page-heading">
            <div class="col-lg-6">
                <h2>Set Par</h2>
            </div>
        </div>
		
        <div class="wrapper wrapper-content  animated fadeInRight">
            <div class="row">
                <div class="col-sm-12">
                    <div class="ibox float-e-margins">
                        <div class="ibox-content overflow-x-auto ir">
							<div class="row">
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <label class="font-noraml">Category</label>
										<select ng-model="$ctr.category" ng-options="value.category as value.category for value in $ctr.SKU_categories">
										</select>
                                    </div>
                                </div>
								<div class="col-sm-1 search-button">
                                    <div class="form-group">
										<button ng-if="!$ctr.loading" class="btn btn-primary" ng-click="$ctr.getData()">Search</button>
										<button ng-if="$ctr.loading" class="btn btn-primary" disabled>Loading...</button>
                                    </div>
                                </div>
								<div class="col-sm-2 float-right search-button">
                                    <div class="form-group">
										<button class="btn btn-primary" ng-click="$ctr.goToOrder()">Order Online</button>
                                    </div>
                                </div>
                                <div class="col-sm-2 float-right search-button">
                                    <div class="form-group">
										<button class="btn btn-primary" ng-click="$ctr.saveActualPar()">Save Changes</button>
                                    </div>
                                </div>
							</div>
							<div class="row">
								<div class="col-xs-3 col-md-6 col-lg-12 ir">
									<table class="table table-bordered table-sm" style="margin-top: 10px">
										<thead>
											<tr>
												<td>Item Description</td>
												<td style="width:80px">Packs in a Case</td>
												<td style="width:80px">Units in a Pack</td>
												<td style="width:80px">Unit of Delivery</td>
												<td style="width:120px">Theoretical On-Hand (Units)</td>
												<td style="width:100px">Suggested Par</td>
												<td style="width:100px">Actual Par</td>
												<td style="width:100px">Suggested Order</td>
												<td style="width:100px">Low Inventory Alert Qty (Units)</td>
												<td style="width:80px">Send Text if Low</td>
											</tr>
										</thead>
										<tbody ng-repeat="item in $ctr.processed_par_items">
											<tr>
												<td>{{item.item_name}}</td>
												<td style="width:80px">{{item.pack}}</td>
												<td style="width:80px">{{item.size}}</td>
												<td style="width:80px">{{item.show_minimum_order_type}}</td>
												<td style="width:120px">{{item.units_on_hand}}</td>
												<td>{{(item.suggested_par_units +" ("+item.show_minimum_order_type+")")}}</td>
												<td>
													<input style="width:100px" ng-if="item.minimum_order_type == 'Case' || item.minimum_order_type == 'Pack'" type="number" min="0" onkeypress="return event.charCode >= 48 && event.charCode <= 57" ng-change="$ctr.setDirty()" ng-model="item.actual_par_units"/>
													<input style="width:100px" ng-if="item.minimum_order_type != 'Case' && item.minimum_order_type != 'Pack'" type="number" min="0" ng-change="$ctr.setDirty()" ng-model="item.actual_par_units"/>
												</td>
												<td>{{item.suggested_amount != null ? (item.suggested_amount +" ("+item.suggested_order_type+")") : "N/A"}}</td>
												<td>
													<input style="width:100px" ng-if="item.minimum_order_type == 'Case' || $ctr.category == 'Bottle Beer'" type="number" min="0" onkeypress="return event.charCode >= 48 && event.charCode <= 57" ng-change="$ctr.setDirty()" ng-model="item.notify_units"/>
													<input style="width:100px" ng-if="!(item.minimum_order_type == 'Case' || $ctr.category == 'Bottle Beer')" type="number" min="0" ng-change="$ctr.setDirty()" ng-model="item.notify_units"/>
												</td>
												<td>
													<input
													  type="checkbox"
													  ng-model="item.alert_if_low"
													  ng-true-value="1" ng-false-value="0"
													  ng-change=$ctr.checkCount(item)
													/>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
            </div>
        </div>

        <!-- Footer -->
        <div ng-include="'views/common/footer.html'"></div>

    </div>
    <!-- End page wrapper-->

</div>
<!-- End wrapper-->
<style>
.ir select, .ir input {
    height: 35px;
    padding: 5px;
    margin-bottom: 10px;
}
.ir button {
    border-color: #0078d7;
    background-color: #0078d7;
    display: inline-block;
    padding: 6px 12px;
    margin-bottom: 0;
    font-size: 14px;
    font-weight: 400;
    line-height: 1.42857143;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
    -ms-touch-action: manipulation;
    touch-action: manipulation;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    background-image: none;
    border: 1px solid transparent;
    border-radius: 4px;
    color: #fff;
	position: relative;
    top: -3px;
}
</style>