<!-- Wrapper-->
<div id="wrapper" ng-if="$ctr.permissions['45'].r || $ctr.permissions['46'].r">

    <header-component></header-component>

    <navigation-component></navigation-component>

    <!-- Page wraper -->
    <div id="page-wrapper" class="white-bg">

        <!-- Main view  -->
        <div class="wrapper wrapper-content  animated fadeInRight">
            <div class="row" id="top-section" style="padding-right: 35px; padding-left: 35px;">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="ibox float-e-margins">
                            <div class="ibox-content">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <button class="btn btn-primary" ui-sref="reports.reportsCategory">&lt;&lt; Back</button>
                                        <button class="btn btn-primary" ui-sref="reports.alcohol.alcoholDetail">Overview</button>
                                        <button class="btn btn-primary" ui-sref="reports.alcoholCostOfSummary">Inventory Count</button>
                                        <button class="btn btn-primary active" ui-sref="reports.dailyOnHand">On-Hand</button>
                                        <button class="btn btn-primary" ui-sref="reports.salesReport">Sales</button>
                                        <button class="btn btn-primary" ui-sref="reports.analytics({typeInventory: 'alcohol'})">Usage</button>
                                        <button class="btn btn-primary" ui-sref="reports.pmix({typeInventory: 'alcohol'})">PMIX</button>
                                        <button class="btn btn-primary" ui-sref="reports.costChangeReport">Cost Change</button>
                                        <button class="btn btn-primary" ui-sref="reports.usageVsPurchase">Purchases</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row wrapper border-bottom white-bg page-heading">
                    <div class="col-lg-10">
                        <h3>On Hand Status for {{$ctr.mydate | date:'yyyy-MM-dd'}} for {{$ctr.category_label}} with total value = $ {{$ctr.total_OH_value | number : 2}}</h3>
                    </div>
                    <div class="col-lg-2">
    
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <h5>*UR - Update Required; includes receiving potential purchases, recipe updates or inventory count</h5>
                    </div>
                </div>
                <div class="row"> 
                    <div class="col-xs-3 col-md-6 col-lg-12 ir">
						<div class="col-sm-2 search-button">
							<div class="form-group">
								<div class="input-group date">
									<select ng-model="$ctr.category" ng-options="item.category as item.category for item in $ctr.categories" required></select>
								</div>
							</div>
						</div>
						<div class="col-sm-1 search-button">
							<div class="form-group">
								<div class="input-group date">
									<button ng-if="!$ctr.loading" class="btn btn-primary" ng-click="$ctr.loadOH()">Search</button>
									<button ng-if="$ctr.loading" class="btn btn-primary" disabled>Loading...</button>
								</div>
							</div>
						</div>
						<div class="col-sm-3 search-button float-right">
							<div class="form-group">
								<button scroll-top class="btn btn-primary float-right" ng-click="$ctr.downloadCSV()" ng-if="!$ctr.export_loading">Export Report
                                </button>
                                <button scroll-top class="btn btn-primary float-right" ng-disabled="$ctr.export_loading" ng-if="$ctr.export_loading">Exporting...
                                </button>
							</div>
						</div>
                        
                        <div class="row">
							<table class="table table-bordered table-sm " style="margin-top: 0; margin-bottom: 0;table-layout: fixed;">
								<thead>
									<tr>
										<td style="width: 155px;">Vendor</td>
										<td style="width: 101px;">SKU</td>
										<td style="width: 286px;">Item Description</td>
										<td style="width: 161px;">Current On-Hand</td>
										<td style="width: 98px;">Item Cost</td>
										<td style="width: 144px;">On-Hand Value</td>
										<td style="width: 142px;">Used in Recipe</td>
									</tr>
								</thead>
							</table>
						</div>
                    </div>
                </div>
            </div>
           
            <div class="row" id="content-table-section">
				<div class="ibox float-e-margins">
					<div class="ibox-content ir adjust-pad">
						<table class="table table-bordered table-sm" style="table-layout: fixed; margin-top: 3px;">
							<tbody ng-repeat="item in $ctr.items">
								<tr>
                                    <td style="width: 155px;">{{item.vendor_name}}</td>
                                    <td style="width: 101px;">{{item.vendor_sku}}</td>
                                    <td style="width: 286px;">{{item.item_name}}</td>
                                    <td style="width: 161px;">{{item.units_on_hand}}</td>
                                    <td style="width: 98px;">${{item.pack_cost | number : 2}}</td>
                                    <td style="width: 144px;">${{item.OH_value}}</td>
                                    <td style="width: 142px;">{{item.used_in_recipe}}</td>
								</tr>
							</tbody>
						</table>

					</div>
				</div>
			</div>
        </div>

        <!-- Footer -->
        <div ng-include="'views/common/footer.html'"></div>

    </div>
    <!-- End page wrapper-->

</div>
<!-- End wrapper-->
<style>
.ir select, .ir input {
    height: 35px;
    padding: 5px;
    margin-bottom: 10px;
}

#content-table-section {
    max-height: 55vh;
    overflow-y: scroll;
}

.adjust-pad {
    padding-right: 2px;
    padding-top: 0
}

#top-section {
    position: absolute;
}

.bottomless {
	padding-bottom: 0;
	border-bottom: 0;
}
</style>
<script>
    $(document).ready(function () {
        setTimeout(function () {
            var height = document.getElementById('top-section').clientHeight;
            $('#content-table-section').css('margin-top', height + 'px');
        }, 2000);
    });
</script>